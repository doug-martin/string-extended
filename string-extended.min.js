/*! string-extended - v0.0.1 - 2013-01-16
* Copyright (c) 2013 Doug Martin; Licensed MIT */
(function(){"use strict";function e(e,t,n){function f(e,t){var n=e;if(u.test(t)){var r=t.match(u),i=r[1],s=r[3],o=r[4];o&&(o=parseInt(o,10),n.length<o?n=d(n,o,s,i):n=v(n,o))}return n}function l(e,n){var r;if(!t.isNumber(e))throw new Error("stringExtender.format : when using %d the parameter must be a number!");r=""+e;if(u.test(n)){var i=n.match(u),s=i[1],o=i[2],a=i[3],f=i[4];o&&(r=(e>0?"+":"")+r),f&&(f=parseInt(f,10),r.length<f?r=d(r,f,a||"0",s):r=v(r,f))}return r}function c(e,t){var n,r=t.match(a),i=0;r&&(i=parseInt(r[0],10),isNaN(i)&&(i=0));try{n=JSON.stringify(e,null,i)}catch(s){throw new Error("stringExtended.format : Unable to parse json from ",e)}return n}function d(e,t,n,r){e=""+e,n=n||" ";var i=e.length;while(i<t)r?e+=n:e=n+e,i++;return e}function v(e,n,r){var i=e;if(t.isString(i)){if(e.length>n)if(r){var s=e.length;i=e.substring(s-n,s)}else i=e.substring(0,n)}else i=v(""+i,n);return i}function m(e,u){if(u instanceof Array){var a=0,h=u.length;return e.replace(s,function(e,t,r){var i,s;if(a<h){i=u[a++];if(e==="%s"||e==="%d"||e==="%D")s=i+"";else if(e==="%Z")s=i.toUTCString();else if(e==="%j")try{s=JSON.stringify(i)}catch(o){throw new Error("stringExtended.format : Unable to parse json from ",i)}else{t=t.replace(/^\[|\]$/g,"");switch(r){case"s":s=f(i,t);break;case"d":s=l(i,t);break;case"j":s=c(i,t);break;case"D":s=n.format(i,t);break;case"Z":s=n.format(i,t,!0)}}return s}return e})}if(r(u))return e.replace(o,function(e,r,i){i=u[i];if(!t.isUndefined(i)){if(!r)return""+i;if(t.isString(i))return f(i,r);if(t.isNumber(i))return l(i,r);if(t.isDate(i))return n.format(i,r);if(t.isObject(i))return c(i,r)}return e});var p=i.call(arguments).slice(1);return m(e,p)}function g(e,t){var n=[];return e&&(e.indexOf(t)>0?n=e.replace(/\s+/g,"").split(t):n.push(e)),n}function y(e,t){var n=[];if(t)for(var r=0;r<t;r++)n.push(e);return n.join("")}function b(e,n){var r,i,s;if(n)if(t.isArray(e)){r=[];for(i=0,s=e.length;i<s;i++)r.push(b(e[i],n))}else if(n instanceof Array){r=e;for(i=0,s=n.length;i<s;i++)r=b(r,n[i])}else n in h&&(r="["+h[n]+"m"+e+"[0m");return r}var r=t.isHash,i=Array.prototype.slice,s=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,o=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,u=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,a=/([1-9][0-9]*)$/g,h={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},p={SMILEY:"☺",SOLID_SMILEY:"☻",HEART:"♥",DIAMOND:"♦",CLOVE:"♣",SPADE:"♠",DOT:"•",SQUARE_CIRCLE:"◘",CIRCLE:"○",FILLED_SQUARE_CIRCLE:"◙",MALE:"♂",FEMALE:"♀",EIGHT_NOTE:"♪",DOUBLE_EIGHTH_NOTE:"♫",SUN:"☼",PLAY:"►",REWIND:"◄",UP_DOWN:"↕",PILCROW:"¶",SECTION:"§",THICK_MINUS:"▬",SMALL_UP_DOWN:"↨",UP_ARROW:"↑",DOWN_ARROW:"↓",RIGHT_ARROW:"→",LEFT_ARROW:"←",RIGHT_ANGLE:"∟",LEFT_RIGHT_ARROW:"↔",TRIANGLE:"▲",DOWN_TRIANGLE:"▼",HOUSE:"⌂",C_CEDILLA:"Ç",U_UMLAUT:"ü",E_ACCENT:"é",A_LOWER_CIRCUMFLEX:"â",A_LOWER_UMLAUT:"ä",A_LOWER_GRAVE_ACCENT:"à",A_LOWER_CIRCLE_OVER:"å",C_LOWER_CIRCUMFLEX:"ç",E_LOWER_CIRCUMFLEX:"ê",E_LOWER_UMLAUT:"ë",E_LOWER_GRAVE_ACCENT:"è",I_LOWER_UMLAUT:"ï",I_LOWER_CIRCUMFLEX:"î",I_LOWER_GRAVE_ACCENT:"ì",A_UPPER_UMLAUT:"Ä",A_UPPER_CIRCLE:"Å",E_UPPER_ACCENT:"É",A_E_LOWER:"æ",A_E_UPPER:"Æ",O_LOWER_CIRCUMFLEX:"ô",O_LOWER_UMLAUT:"ö",O_LOWER_GRAVE_ACCENT:"ò",U_LOWER_CIRCUMFLEX:"û",U_LOWER_GRAVE_ACCENT:"ù",Y_LOWER_UMLAUT:"ÿ",O_UPPER_UMLAUT:"Ö",U_UPPER_UMLAUT:"Ü",CENTS:"¢",POUND:"£",YEN:"¥",CURRENCY:"¤",PTS:"₧",FUNCTION:"ƒ",A_LOWER_ACCENT:"á",I_LOWER_ACCENT:"í",O_LOWER_ACCENT:"ó",U_LOWER_ACCENT:"ú",N_LOWER_TILDE:"ñ",N_UPPER_TILDE:"Ñ",A_SUPER:"ª",O_SUPER:"º",UPSIDEDOWN_QUESTION:"¿",SIDEWAYS_L:"⌐",NEGATION:"¬",ONE_HALF:"½",ONE_FOURTH:"¼",UPSIDEDOWN_EXCLAMATION:"¡",DOUBLE_LEFT:"«",DOUBLE_RIGHT:"»",LIGHT_SHADED_BOX:"░",MEDIUM_SHADED_BOX:"▒",DARK_SHADED_BOX:"▓",VERTICAL_LINE:"│",MAZE__SINGLE_RIGHT_T:"┤",MAZE_SINGLE_RIGHT_TOP:"┐",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"┘",MAZE_SINGLE_LEFT_TOP_SMALL:"┌",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"└",MAZE_SINGLE_LEFT_T:"├",MAZE_SINGLE_BOTTOM_T:"┴",MAZE_SINGLE_TOP_T:"┬",MAZE_SINGLE_CENTER:"┼",MAZE_SINGLE_HORIZONTAL_LINE:"─",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"╡",MAZE_SINGLE_RIGHT_DOUBLE_BL:"╛",MAZE_SINGLE_RIGHT_DOUBLE_T:"╢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"╖",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"╕",MAZE_SINGLE_LEFT_DOUBLE_T:"╞",MAZE_SINGLE_BOTTOM_DOUBLE_T:"╧",MAZE_SINGLE_TOP_DOUBLE_T:"╤",MAZE_SINGLE_TOP_DOUBLECENTER_T:"╥",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"╨",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"╘",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"╒",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"╓",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"╙",MAZE_SINGLE_LEFT_TOP:"Γ",MAZE_SINGLE_RIGHT_BOTTOM:"╜",MAZE_SINGLE_LEFT_CENTER:"╟",MAZE_SINGLE_DOUBLECENTER_CENTER:"╫",MAZE_SINGLE_DOUBLECROSS_CENTER:"╪",MAZE_DOUBLE_LEFT_CENTER:"╣",MAZE_DOUBLE_VERTICAL:"║",MAZE_DOUBLE_RIGHT_TOP:"╗",MAZE_DOUBLE_RIGHT_BOTTOM:"╝",MAZE_DOUBLE_LEFT_BOTTOM:"╚",MAZE_DOUBLE_LEFT_TOP:"╔",MAZE_DOUBLE_BOTTOM_T:"╩",MAZE_DOUBLE_TOP_T:"╦",MAZE_DOUBLE_LEFT_T:"╠",MAZE_DOUBLE_HORIZONTAL:"═",MAZE_DOUBLE_CROSS:"╬",SOLID_RECTANGLE:"█",THICK_LEFT_VERTICAL:"▌",THICK_RIGHT_VERTICAL:"▐",SOLID_SMALL_RECTANGLE_BOTTOM:"▄",SOLID_SMALL_RECTANGLE_TOP:"▀",PHI_UPPER:"Φ",INFINITY:"∞",INTERSECTION:"∩",DEFINITION:"≡",PLUS_MINUS:"±",GT_EQ:"≥",LT_EQ:"≤",THEREFORE:"⌠",SINCE:"∵",DOESNOT_EXIST:"∄",EXISTS:"∃",FOR_ALL:"∀",EXCLUSIVE_OR:"⊕",BECAUSE:"⌡",DIVIDE:"÷",APPROX:"≈",DEGREE:"°",BOLD_DOT:"∙",DOT_SMALL:"·",CHECK:"√",ITALIC_X:"✗",SUPER_N:"ⁿ",SQUARED:"²",CUBED:"³",SOLID_BOX:"■",PERMILE:"‰",REGISTERED_TM:"®",COPYRIGHT:"©",TRADEMARK:"™",BETA:"β",GAMMA:"γ",ZETA:"ζ",ETA:"η",IOTA:"ι",KAPPA:"κ",LAMBDA:"λ",NU:"ν",XI:"ξ",OMICRON:"ο",RHO:"ρ",UPSILON:"υ",CHI_LOWER:"φ",CHI_UPPER:"χ",PSI:"ψ",ALPHA:"α",ESZETT:"ß",PI:"π",SIGMA_UPPER:"Σ",SIGMA_LOWER:"σ",MU:"µ",TAU:"τ",THETA:"Θ",OMEGA:"Ω",DELTA:"δ",PHI_LOWER:"φ",EPSILON:"ε"},w={toArray:g,pad:d,truncate:v,multiply:y,format:m,style:b},E,S=e.define(t.isString,w).define(t.isArray,{style:b});for(E in w)w.hasOwnProperty(E)&&(S[E]=w[E]);return S.characters=p,S}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extender"),require("is-extended"),require("date-extended"))):"function"==typeof define?define(["require"],function(t){return e(t("extender"),t("is-extended"),t("date-extended"))}):this.stringExtended=e(extender,isExtended,dateExtended)}).call(this);