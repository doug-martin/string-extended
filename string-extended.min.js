/*! string-extended - v0.0.3 - 2013-01-22
* Copyright (c) 2013 Doug Martin; Licensed MIT */
(function(){"use strict";function e(e,t,n){function l(e,t){var n=e;if(a.test(t)){var r=t.match(a),i=r[1],s=r[3],o=r[4];o&&(o=parseInt(o,10),n.length<o?n=v(n,o,s,i):n=m(n,o))}return n}function c(e,n){var r;if(!t.isNumber(e))throw new Error("stringExtended.format : when using %d the parameter must be a number!");r=""+e;if(a.test(n)){var i=n.match(a),s=i[1],o=i[2],u=i[3],f=i[4];o&&(r=(e>0?"+":"")+r),f&&(f=parseInt(f,10),r.length<f?r=v(r,f,u||"0",s):r=m(r,f))}return r}function h(e,t){var n,i=t.match(f),s=0;i&&(s=parseInt(i[0],10),isNaN(s)&&(s=0));try{n=r(e,null,s)}catch(o){throw new Error("stringExtended.format : Unable to parse json from ",e)}return n}function v(e,t,n,r){e=""+e,n=n||" ";var i=e.length;while(i<t)r?e+=n:e=n+e,i++;return e}function m(e,n,r){var i=e;if(t.isString(i)){if(e.length>n)if(r){var s=e.length;i=e.substring(s-n,s)}else i=e.substring(0,n)}else i=m(""+i,n);return i}function g(e,a){if(a instanceof Array){var f=0,p=a.length;return e.replace(o,function(e,t,i){var s,o;if(f<p){s=a[f++];if(e==="%s"||e==="%d"||e==="%D")o=s+"";else if(e==="%Z")o=s.toUTCString();else if(e==="%j")try{o=r(s)}catch(u){throw new Error("stringExtended.format : Unable to parse json from ",s)}else{t=t.replace(/^\[|\]$/g,"");switch(i){case"s":o=l(s,t);break;case"d":o=c(s,t);break;case"j":o=h(s,t);break;case"D":o=n.format(s,t);break;case"Z":o=n.format(s,t,!0)}}return o}return e})}if(i(a))return e.replace(u,function(e,r,i){i=a[i];if(!t.isUndefined(i)){if(!r)return""+i;if(t.isString(i))return l(i,r);if(t.isNumber(i))return c(i,r);if(t.isDate(i))return n.format(i,r);if(t.isObject(i))return h(i,r)}return e});var d=s.call(arguments).slice(1);return g(e,d)}function y(e,t){var n=[];return e&&(e.indexOf(t)>0?n=e.replace(/\s+/g,"").split(t):n.push(e)),n}function b(e,t){var n=[];if(t)for(var r=0;r<t;r++)n.push(e);return n.join("")}function w(e,n){var r,i,s;if(n)if(t.isArray(e)){r=[];for(i=0,s=e.length;i<s;i++)r.push(w(e[i],n))}else if(n instanceof Array){r=e;for(i=0,s=n.length;i<s;i++)r=w(r,n[i])}else n in p&&(r="["+p[n]+"m"+e+"[0m");return r}var r;typeof JSON=="undefined"?function(){function e(e){return e<10?"0"+e:e}function i(r){return t.isDate(r)?isFinite(r.valueOf())?r.getUTCFullYear()+"-"+e(r.getUTCMonth()+1)+"-"+e(r.getUTCDate())+"T"+e(r.getUTCHours())+":"+e(r.getUTCMinutes())+":"+e(r.getUTCSeconds())+"Z":null:n(r)?r.valueOf():r}function c(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=f[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function h(e,t){var n,r,s,o,f=u,p,d=t[e];d&&(d=i(d)),typeof l=="function"&&(d=l.call(t,e,d));switch(typeof d){case"string":return c(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";u+=a,p=[];if(Object.prototype.toString.apply(d)==="[object Array]"){o=d.length;for(n=0;n<o;n+=1)p[n]=h(n,d)||"null";return s=p.length===0?"[]":u?"[\n"+u+p.join(",\n"+u)+"\n"+f+"]":"["+p.join(",")+"]",u=f,s}if(l&&typeof l=="object"){o=l.length;for(n=0;n<o;n+=1)typeof l[n]=="string"&&(r=l[n],s=h(r,d),s&&p.push(c(r)+(u?": ":":")+s))}else for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(s=h(r,d),s&&p.push(c(r)+(u?": ":":")+s));return s=p.length===0?"{}":u?"{\n"+u+p.join(",\n"+u)+"\n"+f+"}":"{"+p.join(",")+"}",u=f,s}}var n=t.tester().isString().isNumber().isBoolean().tester(),s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,a,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;r=function(e,t,n){var r;u="",a="";if(typeof n=="number")for(r=0;r<n;r+=1)a+=" ";else typeof n=="string"&&(a=n);l=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return h("",{"":e});throw new Error("JSON.stringify")}}():r=JSON.stringify;var i=t.isHash,s=Array.prototype.slice,o=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,u=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,a=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,f=/([1-9][0-9]*)$/g,p={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},d={SMILEY:"â˜º",SOLID_SMILEY:"â˜»",HEART:"â™¥",DIAMOND:"â™¦",CLOVE:"â™£",SPADE:"â™ ",DOT:"â€¢",SQUARE_CIRCLE:"â—˜",CIRCLE:"â—‹",FILLED_SQUARE_CIRCLE:"â—™",MALE:"â™‚",FEMALE:"â™€",EIGHT_NOTE:"â™ª",DOUBLE_EIGHTH_NOTE:"â™«",SUN:"â˜¼",PLAY:"â–º",REWIND:"â—„",UP_DOWN:"â†•",PILCROW:"Â¶",SECTION:"Â§",THICK_MINUS:"â–¬",SMALL_UP_DOWN:"â†¨",UP_ARROW:"â†‘",DOWN_ARROW:"â†“",RIGHT_ARROW:"â†’",LEFT_ARROW:"â†",RIGHT_ANGLE:"âˆŸ",LEFT_RIGHT_ARROW:"â†”",TRIANGLE:"â–²",DOWN_TRIANGLE:"â–¼",HOUSE:"âŒ‚",C_CEDILLA:"Ã‡",U_UMLAUT:"Ã¼",E_ACCENT:"Ã©",A_LOWER_CIRCUMFLEX:"Ã¢",A_LOWER_UMLAUT:"Ã¤",A_LOWER_GRAVE_ACCENT:"Ã ",A_LOWER_CIRCLE_OVER:"Ã¥",C_LOWER_CIRCUMFLEX:"Ã§",E_LOWER_CIRCUMFLEX:"Ãª",E_LOWER_UMLAUT:"Ã«",E_LOWER_GRAVE_ACCENT:"Ã¨",I_LOWER_UMLAUT:"Ã¯",I_LOWER_CIRCUMFLEX:"Ã®",I_LOWER_GRAVE_ACCENT:"Ã¬",A_UPPER_UMLAUT:"Ã„",A_UPPER_CIRCLE:"Ã…",E_UPPER_ACCENT:"Ã‰",A_E_LOWER:"Ã¦",A_E_UPPER:"Ã†",O_LOWER_CIRCUMFLEX:"Ã´",O_LOWER_UMLAUT:"Ã¶",O_LOWER_GRAVE_ACCENT:"Ã²",U_LOWER_CIRCUMFLEX:"Ã»",U_LOWER_GRAVE_ACCENT:"Ã¹",Y_LOWER_UMLAUT:"Ã¿",O_UPPER_UMLAUT:"Ã–",U_UPPER_UMLAUT:"Ãœ",CENTS:"Â¢",POUND:"Â£",YEN:"Â¥",CURRENCY:"Â¤",PTS:"â‚§",FUNCTION:"Æ’",A_LOWER_ACCENT:"Ã¡",I_LOWER_ACCENT:"Ã­",O_LOWER_ACCENT:"Ã³",U_LOWER_ACCENT:"Ãº",N_LOWER_TILDE:"Ã±",N_UPPER_TILDE:"Ã‘",A_SUPER:"Âª",O_SUPER:"Âº",UPSIDEDOWN_QUESTION:"Â¿",SIDEWAYS_L:"âŒ",NEGATION:"Â¬",ONE_HALF:"Â½",ONE_FOURTH:"Â¼",UPSIDEDOWN_EXCLAMATION:"Â¡",DOUBLE_LEFT:"Â«",DOUBLE_RIGHT:"Â»",LIGHT_SHADED_BOX:"â–‘",MEDIUM_SHADED_BOX:"â–’",DARK_SHADED_BOX:"â–“",VERTICAL_LINE:"â”‚",MAZE__SINGLE_RIGHT_T:"â”¤",MAZE_SINGLE_RIGHT_TOP:"â”",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"â”˜",MAZE_SINGLE_LEFT_TOP_SMALL:"â”Œ",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"â””",MAZE_SINGLE_LEFT_T:"â”œ",MAZE_SINGLE_BOTTOM_T:"â”´",MAZE_SINGLE_TOP_T:"â”¬",MAZE_SINGLE_CENTER:"â”¼",MAZE_SINGLE_HORIZONTAL_LINE:"â”€",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"â•¡",MAZE_SINGLE_RIGHT_DOUBLE_BL:"â•›",MAZE_SINGLE_RIGHT_DOUBLE_T:"â•¢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"â•–",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"â••",MAZE_SINGLE_LEFT_DOUBLE_T:"â•ž",MAZE_SINGLE_BOTTOM_DOUBLE_T:"â•§",MAZE_SINGLE_TOP_DOUBLE_T:"â•¤",MAZE_SINGLE_TOP_DOUBLECENTER_T:"â•¥",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"â•¨",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"â•˜",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"â•’",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"â•“",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"â•™",MAZE_SINGLE_LEFT_TOP:"Î“",MAZE_SINGLE_RIGHT_BOTTOM:"â•œ",MAZE_SINGLE_LEFT_CENTER:"â•Ÿ",MAZE_SINGLE_DOUBLECENTER_CENTER:"â•«",MAZE_SINGLE_DOUBLECROSS_CENTER:"â•ª",MAZE_DOUBLE_LEFT_CENTER:"â•£",MAZE_DOUBLE_VERTICAL:"â•‘",MAZE_DOUBLE_RIGHT_TOP:"â•—",MAZE_DOUBLE_RIGHT_BOTTOM:"â•",MAZE_DOUBLE_LEFT_BOTTOM:"â•š",MAZE_DOUBLE_LEFT_TOP:"â•”",MAZE_DOUBLE_BOTTOM_T:"â•©",MAZE_DOUBLE_TOP_T:"â•¦",MAZE_DOUBLE_LEFT_T:"â• ",MAZE_DOUBLE_HORIZONTAL:"â•",MAZE_DOUBLE_CROSS:"â•¬",SOLID_RECTANGLE:"â–ˆ",THICK_LEFT_VERTICAL:"â–Œ",THICK_RIGHT_VERTICAL:"â–",SOLID_SMALL_RECTANGLE_BOTTOM:"â–„",SOLID_SMALL_RECTANGLE_TOP:"â–€",PHI_UPPER:"Î¦",INFINITY:"âˆž",INTERSECTION:"âˆ©",DEFINITION:"â‰¡",PLUS_MINUS:"Â±",GT_EQ:"â‰¥",LT_EQ:"â‰¤",THEREFORE:"âŒ ",SINCE:"âˆµ",DOESNOT_EXIST:"âˆ„",EXISTS:"âˆƒ",FOR_ALL:"âˆ€",EXCLUSIVE_OR:"âŠ•",BECAUSE:"âŒ¡",DIVIDE:"Ã·",APPROX:"â‰ˆ",DEGREE:"Â°",BOLD_DOT:"âˆ™",DOT_SMALL:"Â·",CHECK:"âˆš",ITALIC_X:"âœ—",SUPER_N:"â¿",SQUARED:"Â²",CUBED:"Â³",SOLID_BOX:"â– ",PERMILE:"â€°",REGISTERED_TM:"Â®",COPYRIGHT:"Â©",TRADEMARK:"â„¢",BETA:"Î²",GAMMA:"Î³",ZETA:"Î¶",ETA:"Î·",IOTA:"Î¹",KAPPA:"Îº",LAMBDA:"Î»",NU:"Î½",XI:"Î¾",OMICRON:"Î¿",RHO:"Ï",UPSILON:"Ï…",CHI_LOWER:"Ï†",CHI_UPPER:"Ï‡",PSI:"Ïˆ",ALPHA:"Î±",ESZETT:"ÃŸ",PI:"Ï€",SIGMA_UPPER:"Î£",SIGMA_LOWER:"Ïƒ",MU:"Âµ",TAU:"Ï„",THETA:"Î˜",OMEGA:"Î©",DELTA:"Î´",PHI_LOWER:"Ï†",EPSILON:"Îµ"},E={toArray:y,pad:v,truncate:m,multiply:b,format:g,style:w},S,x=e.define(t.isString,E).define(t.isArray,{style:w});for(S in E)E.hasOwnProperty(S)&&(x[S]=E[S]);return x.characters=d,x}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extended"),require("is-extended"),require("date-extended"))):"function"==typeof define?define(["require"],function(t){return e(t("extended"),t("is-extended"),t("date-extended"))}):this.stringExtended=e(this.extended,this.isExtended,this.dateExtended)}).call(this);