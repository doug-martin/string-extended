/*! string-extended - v0.0.4 - 2013-04-16
* Copyright (c) 2013 Doug Martin; Licensed MIT */
(function(){"use strict";function E(E,_,e){function r(E,_){var e=E;if(N.test(_)){var r=_.match(N),t=r[1],n=r[3],O=r[4];O&&(O=parseInt(O,10),e=O>e.length?T(e,O,n,t):L(e,O))}return e}function t(E,e){var r;if(!_.isNumber(E))throw Error("stringExtended.format : when using %d the parameter must be a number!");if(r=""+E,N.test(e)){var t=e.match(N),n=t[1],O=t[2],A=t[3],i=t[4];O&&(r=(E>0?"+":"")+r),i&&(i=parseInt(i,10),r=i>r.length?T(r,i,A||"0",n):L(r,i))}return r}function n(E,_){var e,r=_.match(U),t=0;r&&(t=parseInt(r[0],10),isNaN(t)&&(t=0));try{e=R(E,null,t)}catch(n){throw Error("stringExtended.format : Unable to parse json from ",E)}return e}function T(E,_,e,r){E=""+E,e=e||" ";for(var t=E.length;_>t;)r?E+=e:E=e+E,t++;return E}function L(E,e,r){var t=E;if(_.isString(t)){if(E.length>e)if(r){var n=E.length;t=E.substring(n-e,n)}else t=E.substring(0,e)}else t=L(""+t,e);return t}function O(E,T){if(T instanceof Array){var L=0,A=T.length;return E.replace(a,function(E,_,O){var i,I;if(!(A>L))return E;if(i=T[L++],"%s"===E||"%d"===E||"%D"===E)I=i+"";else if("%Z"===E)I=i.toUTCString();else if("%j"===E)try{I=R(i)}catch(u){throw Error("stringExtended.format : Unable to parse json from ",i)}else switch(_=_.replace(/^\[|\]$/g,""),O){case"s":I=r(i,_);break;case"d":I=t(i,_);break;case"j":I=n(i,_);break;case"D":I=e.format(i,_);break;case"Z":I=e.format(i,_,!0)}return I})}if(o(T))return E.replace(s,function(E,L,O){if(O=T[O],!_.isUndefined(O)){if(!L)return""+O;if(_.isString(O))return r(O,L);if(_.isNumber(O))return t(O,L);if(_.isDate(O))return e.format(O,L);if(_.isObject(O))return n(O,L)}return E});var i=f.call(arguments).slice(1);return O(E,i)}function A(E,_){var e=[];return E&&(E.indexOf(_)>0?e=E.replace(/\s+/g,"").split(_):e.push(E)),e}function i(E,_){var e=[];if(_)for(var r=0;_>r;r++)e.push(E);return e.join("")}function I(E,e){var r,t,n;if(e)if(_.isArray(E))for(r=[],t=0,n=E.length;n>t;t++)r.push(I(E[t],e));else if(e instanceof Array)for(r=E,t=0,n=e.length;n>t;t++)r=I(r,e[t]);else e in M&&(r="["+M[e]+"m"+E+"[0m");return r}var R;"undefined"==typeof JSON?function(){function E(E){return 10>E?"0"+E:E}function e(e){return _.isDate(e)?isFinite(e.valueOf())?e.getUTCFullYear()+"-"+E(e.getUTCMonth()+1)+"-"+E(e.getUTCDate())+"T"+E(e.getUTCHours())+":"+E(e.getUTCMinutes())+":"+E(e.getUTCSeconds())+"Z":null:O(e)?e.valueOf():e}function r(E){return A.lastIndex=0,A.test(E)?'"'+E.replace(A,function(E){var _=i[E];return"string"==typeof _?_:"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+E+'"'}function t(E,_){var O,A,i,I,R,u=n,o=_[E];switch(o&&(o=e(o)),"function"==typeof L&&(o=L.call(_,E,o)),typeof o){case"string":return r(o);case"number":return isFinite(o)?o+"":"null";case"boolean":case"null":return o+"";case"object":if(!o)return"null";if(n+=T,R=[],"[object Array]"===Object.prototype.toString.apply(o)){for(I=o.length,O=0;I>O;O+=1)R[O]=t(O,o)||"null";return i=0===R.length?"[]":n?"[\n"+n+R.join(",\n"+n)+"\n"+u+"]":"["+R.join(",")+"]",n=u,i}if(L&&"object"==typeof L)for(I=L.length,O=0;I>O;O+=1)"string"==typeof L[O]&&(A=L[O],i=t(A,o),i&&R.push(r(A)+(n?": ":":")+i));else for(A in o)Object.prototype.hasOwnProperty.call(o,A)&&(i=t(A,o),i&&R.push(r(A)+(n?": ":":")+i));return i=0===R.length?"{}":n?"{\n"+n+R.join(",\n"+n)+"\n"+u+"}":"{"+R.join(",")+"}",n=u,i}}var n,T,L,O=_.tester().isString().isNumber().isBoolean().tester(),A=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};R=function(E,_,e){var r;if(n="",T="","number"==typeof e)for(r=0;e>r;r+=1)T+=" ";else"string"==typeof e&&(T=e);if(L=_,_&&"function"!=typeof _&&("object"!=typeof _||"number"!=typeof _.length))throw Error("JSON.stringify");return t("",{"":E})}}():R=JSON.stringify;var u,o=_.isHash,f=Array.prototype.slice,a=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,s=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,N=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,U=/([1-9][0-9]*)$/g,M={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},C={SMILEY:"‚ò∫",SOLID_SMILEY:"‚òª",HEART:"‚ô•",DIAMOND:"‚ô¶",CLOVE:"‚ô£",SPADE:"‚ô†",DOT:"‚Ä¢",SQUARE_CIRCLE:"‚óò",CIRCLE:"‚óã",FILLED_SQUARE_CIRCLE:"‚óô",MALE:"‚ôÇ",FEMALE:"‚ôÄ",EIGHT_NOTE:"‚ô™",DOUBLE_EIGHTH_NOTE:"‚ô´",SUN:"‚òº",PLAY:"‚ñ∫",REWIND:"‚óÑ",UP_DOWN:"‚Üï",PILCROW:"¬∂",SECTION:"¬ß",THICK_MINUS:"‚ñ¨",SMALL_UP_DOWN:"‚Ü®",UP_ARROW:"‚Üë",DOWN_ARROW:"‚Üì",RIGHT_ARROW:"‚Üí",LEFT_ARROW:"‚Üê",RIGHT_ANGLE:"‚àü",LEFT_RIGHT_ARROW:"‚Üî",TRIANGLE:"‚ñ≤",DOWN_TRIANGLE:"‚ñº",HOUSE:"‚åÇ",C_CEDILLA:"√á",U_UMLAUT:"√º",E_ACCENT:"√©",A_LOWER_CIRCUMFLEX:"√¢",A_LOWER_UMLAUT:"√§",A_LOWER_GRAVE_ACCENT:"√†",A_LOWER_CIRCLE_OVER:"√•",C_LOWER_CIRCUMFLEX:"√ß",E_LOWER_CIRCUMFLEX:"√™",E_LOWER_UMLAUT:"√´",E_LOWER_GRAVE_ACCENT:"√®",I_LOWER_UMLAUT:"√Ø",I_LOWER_CIRCUMFLEX:"√Æ",I_LOWER_GRAVE_ACCENT:"√¨",A_UPPER_UMLAUT:"√Ñ",A_UPPER_CIRCLE:"√Ö",E_UPPER_ACCENT:"√â",A_E_LOWER:"√¶",A_E_UPPER:"√Ü",O_LOWER_CIRCUMFLEX:"√¥",O_LOWER_UMLAUT:"√∂",O_LOWER_GRAVE_ACCENT:"√≤",U_LOWER_CIRCUMFLEX:"√ª",U_LOWER_GRAVE_ACCENT:"√π",Y_LOWER_UMLAUT:"√ø",O_UPPER_UMLAUT:"√ñ",U_UPPER_UMLAUT:"√ú",CENTS:"¬¢",POUND:"¬£",YEN:"¬•",CURRENCY:"¬§",PTS:"‚Çß",FUNCTION:"∆í",A_LOWER_ACCENT:"√°",I_LOWER_ACCENT:"√≠",O_LOWER_ACCENT:"√≥",U_LOWER_ACCENT:"√∫",N_LOWER_TILDE:"√±",N_UPPER_TILDE:"√ë",A_SUPER:"¬™",O_SUPER:"¬∫",UPSIDEDOWN_QUESTION:"¬ø",SIDEWAYS_L:"‚åê",NEGATION:"¬¨",ONE_HALF:"¬Ω",ONE_FOURTH:"¬º",UPSIDEDOWN_EXCLAMATION:"¬°",DOUBLE_LEFT:"¬´",DOUBLE_RIGHT:"¬ª",LIGHT_SHADED_BOX:"‚ñë",MEDIUM_SHADED_BOX:"‚ñí",DARK_SHADED_BOX:"‚ñì",VERTICAL_LINE:"‚îÇ",MAZE__SINGLE_RIGHT_T:"‚î§",MAZE_SINGLE_RIGHT_TOP:"‚îê",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"‚îò",MAZE_SINGLE_LEFT_TOP_SMALL:"‚îå",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"‚îî",MAZE_SINGLE_LEFT_T:"‚îú",MAZE_SINGLE_BOTTOM_T:"‚î¥",MAZE_SINGLE_TOP_T:"‚î¨",MAZE_SINGLE_CENTER:"‚îº",MAZE_SINGLE_HORIZONTAL_LINE:"‚îÄ",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"‚ï°",MAZE_SINGLE_RIGHT_DOUBLE_BL:"‚ïõ",MAZE_SINGLE_RIGHT_DOUBLE_T:"‚ï¢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"‚ïñ",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"‚ïï",MAZE_SINGLE_LEFT_DOUBLE_T:"‚ïû",MAZE_SINGLE_BOTTOM_DOUBLE_T:"‚ïß",MAZE_SINGLE_TOP_DOUBLE_T:"‚ï§",MAZE_SINGLE_TOP_DOUBLECENTER_T:"‚ï•",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"‚ï®",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"‚ïò",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"‚ïí",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"‚ïì",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"‚ïô",MAZE_SINGLE_LEFT_TOP:"Œì",MAZE_SINGLE_RIGHT_BOTTOM:"‚ïú",MAZE_SINGLE_LEFT_CENTER:"‚ïü",MAZE_SINGLE_DOUBLECENTER_CENTER:"‚ï´",MAZE_SINGLE_DOUBLECROSS_CENTER:"‚ï™",MAZE_DOUBLE_LEFT_CENTER:"‚ï£",MAZE_DOUBLE_VERTICAL:"‚ïë",MAZE_DOUBLE_RIGHT_TOP:"‚ïó",MAZE_DOUBLE_RIGHT_BOTTOM:"‚ïù",MAZE_DOUBLE_LEFT_BOTTOM:"‚ïö",MAZE_DOUBLE_LEFT_TOP:"‚ïî",MAZE_DOUBLE_BOTTOM_T:"‚ï©",MAZE_DOUBLE_TOP_T:"‚ï¶",MAZE_DOUBLE_LEFT_T:"‚ï†",MAZE_DOUBLE_HORIZONTAL:"‚ïê",MAZE_DOUBLE_CROSS:"‚ï¨",SOLID_RECTANGLE:"‚ñà",THICK_LEFT_VERTICAL:"‚ñå",THICK_RIGHT_VERTICAL:"‚ñê",SOLID_SMALL_RECTANGLE_BOTTOM:"‚ñÑ",SOLID_SMALL_RECTANGLE_TOP:"‚ñÄ",PHI_UPPER:"Œ¶",INFINITY:"‚àû",INTERSECTION:"‚à©",DEFINITION:"‚â°",PLUS_MINUS:"¬±",GT_EQ:"‚â•",LT_EQ:"‚â§",THEREFORE:"‚å†",SINCE:"‚àµ",DOESNOT_EXIST:"‚àÑ",EXISTS:"‚àÉ",FOR_ALL:"‚àÄ",EXCLUSIVE_OR:"‚äï",BECAUSE:"‚å°",DIVIDE:"√∑",APPROX:"‚âà",DEGREE:"¬∞",BOLD_DOT:"‚àô",DOT_SMALL:"¬∑",CHECK:"‚àö",ITALIC_X:"‚úó",SUPER_N:"‚Åø",SQUARED:"¬≤",CUBED:"¬≥",SOLID_BOX:"‚ñ†",PERMILE:"‚Ä∞",REGISTERED_TM:"¬Æ",COPYRIGHT:"¬©",TRADEMARK:"‚Ñ¢",BETA:"Œ≤",GAMMA:"Œ≥",ZETA:"Œ∂",ETA:"Œ∑",IOTA:"Œπ",KAPPA:"Œ∫",LAMBDA:"Œª",NU:"ŒΩ",XI:"Œæ",OMICRON:"Œø",RHO:"œÅ",UPSILON:"œÖ",CHI_LOWER:"œÜ",CHI_UPPER:"œá",PSI:"œà",ALPHA:"Œ±",ESZETT:"√ü",PI:"œÄ",SIGMA_UPPER:"Œ£",SIGMA_LOWER:"œÉ",MU:"¬µ",TAU:"œÑ",THETA:"Œò",OMEGA:"Œ©",DELTA:"Œ¥",PHI_LOWER:"œÜ",EPSILON:"Œµ"},S={toArray:A,pad:T,truncate:L,multiply:i,format:O,style:I},c=E.define(_.isString,S).define(_.isArray,{style:I});for(u in S)S.hasOwnProperty(u)&&(c[u]=S[u]);return c.characters=C,c}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=E(require("extended"),require("is-extended"),require("date-extended"))):"function"==typeof define?define(["extended","is-extended","date-extended"],function(_,e,r){return E(_,e,r)}):this.stringExtended=E(this.extended,this.isExtended,this.dateExtended)}).call(this);