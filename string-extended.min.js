/*! string-extended - v0.0.5 - 2013-05-19
* Copyright (c) 2013 Doug Martin; Licensed MIT */
(function(){"use strict";function E(E,e,_,r){function t(E,e){var _=E;if(S.test(e)){var r=e.match(S),t=r[1],n=r[3],L=r[4];L&&(L=parseInt(L,10),_=L>_.length?T(_,L,n,t):O(_,L))}return _}function n(E,_){var r;if(!e.isNumber(E))throw Error("stringExtended.format : when using %d the parameter must be a number!");if(r=""+E,S.test(_)){var t=_.match(S),n=t[1],L=t[2],i=t[3],A=t[4];L&&(r=(E>0?"+":"")+r),A&&(A=parseInt(A,10),r=A>r.length?T(r,A,i||"0",n):O(r,A))}return r}function L(E,e){var _,r=e.match(l),t=0;r&&(t=parseInt(r[0],10),isNaN(t)&&(t=0));try{_=N(E,null,t)}catch(n){throw Error("stringExtended.format : Unable to parse json from ",E)}return _}function T(E,e,_,r){E=""+E,_=_||" ";for(var t=E.length;e>t;)r?E+=_:E=_+E,t++;return E}function O(E,_,r){var t=E;if(e.isString(t)){if(E.length>_)if(r){var n=E.length;t=E.substring(n-_,n)}else t=E.substring(0,_)}else t=O(""+t,_);return t}function i(E,r){if(r instanceof Array){var T=0,O=r.length;return E.replace(c,function(E,e,i){var A,I;if(!(O>T))return E;if(A=r[T++],"%s"===E||"%d"===E||"%D"===E)I=A+"";else if("%Z"===E)I=A.toUTCString();else if("%j"===E)try{I=N(A)}catch(u){throw Error("stringExtended.format : Unable to parse json from ",A)}else switch(e=e.replace(/^\[|\]$/g,""),i){case"s":I=t(A,e);break;case"d":I=n(A,e);break;case"j":I=L(A,e);break;case"D":I=_.format(A,e);break;case"Z":I=_.format(A,e,!0)}return I})}if(U(r))return E.replace(C,function(E,T,O){if(O=r[O],!e.isUndefined(O)){if(!T)return""+O;if(e.isString(O))return t(O,T);if(e.isNumber(O))return n(O,T);if(e.isDate(O))return _.format(O,T);if(e.isObject(O))return L(O,T)}return E});var A=M.call(arguments).slice(1);return i(E,A)}function A(E,e){var _=[];return E&&(E.indexOf(e)>0?_=E.replace(/\s+/g,"").split(e):_.push(E)),_}function I(E,e){var _=[];if(e)for(var r=0;e>r;r++)_.push(E);return _.join("")}function u(E,_){var r,t,n;if(_)if(e.isArray(E))for(r=[],t=0,n=E.length;n>t;t++)r.push(u(E[t],_));else if(_ instanceof Array)for(r=E,t=0,n=_.length;n>t;t++)r=u(r,_[t]);else _ in D&&(r="["+D[_]+"m"+E+"[0m");return r}function R(E,e){return E.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(E){return e&&-1!==r.indexOf(e,E)?E:"\\"+E})}function a(E){return E.replace(/^\s*|\s*$/g,"")}function f(E){return E.replace(/^\s*/,"")}function o(E){return E.replace(/\s*$/,"")}function s(E){return 0===E.length}var N;"undefined"==typeof JSON?function(){function E(E){return 10>E?"0"+E:E}function _(_){return e.isDate(_)?isFinite(_.valueOf())?_.getUTCFullYear()+"-"+E(_.getUTCMonth()+1)+"-"+E(_.getUTCDate())+"T"+E(_.getUTCHours())+":"+E(_.getUTCMinutes())+":"+E(_.getUTCSeconds())+"Z":null:O(_)?_.valueOf():_}function r(E){return i.lastIndex=0,i.test(E)?'"'+E.replace(i,function(E){var e=A[E];return"string"==typeof e?e:"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+E+'"'}function t(E,e){var O,i,A,I,u,R=n,a=e[E];switch(a&&(a=_(a)),"function"==typeof T&&(a=T.call(e,E,a)),typeof a){case"string":return r(a);case"number":return isFinite(a)?a+"":"null";case"boolean":case"null":return a+"";case"object":if(!a)return"null";if(n+=L,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(I=a.length,O=0;I>O;O+=1)u[O]=t(O,a)||"null";return A=0===u.length?"[]":n?"[\n"+n+u.join(",\n"+n)+"\n"+R+"]":"["+u.join(",")+"]",n=R,A}if(T&&"object"==typeof T)for(I=T.length,O=0;I>O;O+=1)"string"==typeof T[O]&&(i=T[O],A=t(i,a),A&&u.push(r(i)+(n?": ":":")+A));else for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(A=t(i,a),A&&u.push(r(i)+(n?": ":":")+A));return A=0===u.length?"{}":n?"{\n"+n+u.join(",\n"+n)+"\n"+R+"}":"{"+u.join(",")+"}",n=R,A}}var n,L,T,O=e.tester().isString().isNumber().isBoolean().tester(),i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,A={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};N=function(E,e,_){var r;if(n="",L="","number"==typeof _)for(r=0;_>r;r+=1)L+=" ";else"string"==typeof _&&(L=_);if(T=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return t("",{"":E})}}():N=JSON.stringify;var U=e.isHash,M=Array.prototype.slice,c=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,C=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,S=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,l=/([1-9][0-9]*)$/g,D={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},d={SMILEY:"‚ò∫",SOLID_SMILEY:"‚òª",HEART:"‚ô•",DIAMOND:"‚ô¶",CLOVE:"‚ô£",SPADE:"‚ô†",DOT:"‚Ä¢",SQUARE_CIRCLE:"‚óò",CIRCLE:"‚óã",FILLED_SQUARE_CIRCLE:"‚óô",MALE:"‚ôÇ",FEMALE:"‚ôÄ",EIGHT_NOTE:"‚ô™",DOUBLE_EIGHTH_NOTE:"‚ô´",SUN:"‚òº",PLAY:"‚ñ∫",REWIND:"‚óÑ",UP_DOWN:"‚Üï",PILCROW:"¬∂",SECTION:"¬ß",THICK_MINUS:"‚ñ¨",SMALL_UP_DOWN:"‚Ü®",UP_ARROW:"‚Üë",DOWN_ARROW:"‚Üì",RIGHT_ARROW:"‚Üí",LEFT_ARROW:"‚Üê",RIGHT_ANGLE:"‚àü",LEFT_RIGHT_ARROW:"‚Üî",TRIANGLE:"‚ñ≤",DOWN_TRIANGLE:"‚ñº",HOUSE:"‚åÇ",C_CEDILLA:"√á",U_UMLAUT:"√º",E_ACCENT:"√©",A_LOWER_CIRCUMFLEX:"√¢",A_LOWER_UMLAUT:"√§",A_LOWER_GRAVE_ACCENT:"√†",A_LOWER_CIRCLE_OVER:"√•",C_LOWER_CIRCUMFLEX:"√ß",E_LOWER_CIRCUMFLEX:"√™",E_LOWER_UMLAUT:"√´",E_LOWER_GRAVE_ACCENT:"√®",I_LOWER_UMLAUT:"√Ø",I_LOWER_CIRCUMFLEX:"√Æ",I_LOWER_GRAVE_ACCENT:"√¨",A_UPPER_UMLAUT:"√Ñ",A_UPPER_CIRCLE:"√Ö",E_UPPER_ACCENT:"√â",A_E_LOWER:"√¶",A_E_UPPER:"√Ü",O_LOWER_CIRCUMFLEX:"√¥",O_LOWER_UMLAUT:"√∂",O_LOWER_GRAVE_ACCENT:"√≤",U_LOWER_CIRCUMFLEX:"√ª",U_LOWER_GRAVE_ACCENT:"√π",Y_LOWER_UMLAUT:"√ø",O_UPPER_UMLAUT:"√ñ",U_UPPER_UMLAUT:"√ú",CENTS:"¬¢",POUND:"¬£",YEN:"¬•",CURRENCY:"¬§",PTS:"‚Çß",FUNCTION:"∆í",A_LOWER_ACCENT:"√°",I_LOWER_ACCENT:"√≠",O_LOWER_ACCENT:"√≥",U_LOWER_ACCENT:"√∫",N_LOWER_TILDE:"√±",N_UPPER_TILDE:"√ë",A_SUPER:"¬™",O_SUPER:"¬∫",UPSIDEDOWN_QUESTION:"¬ø",SIDEWAYS_L:"‚åê",NEGATION:"¬¨",ONE_HALF:"¬Ω",ONE_FOURTH:"¬º",UPSIDEDOWN_EXCLAMATION:"¬°",DOUBLE_LEFT:"¬´",DOUBLE_RIGHT:"¬ª",LIGHT_SHADED_BOX:"‚ñë",MEDIUM_SHADED_BOX:"‚ñí",DARK_SHADED_BOX:"‚ñì",VERTICAL_LINE:"‚îÇ",MAZE__SINGLE_RIGHT_T:"‚î§",MAZE_SINGLE_RIGHT_TOP:"‚îê",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"‚îò",MAZE_SINGLE_LEFT_TOP_SMALL:"‚îå",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"‚îî",MAZE_SINGLE_LEFT_T:"‚îú",MAZE_SINGLE_BOTTOM_T:"‚î¥",MAZE_SINGLE_TOP_T:"‚î¨",MAZE_SINGLE_CENTER:"‚îº",MAZE_SINGLE_HORIZONTAL_LINE:"‚îÄ",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"‚ï°",MAZE_SINGLE_RIGHT_DOUBLE_BL:"‚ïõ",MAZE_SINGLE_RIGHT_DOUBLE_T:"‚ï¢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"‚ïñ",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"‚ïï",MAZE_SINGLE_LEFT_DOUBLE_T:"‚ïû",MAZE_SINGLE_BOTTOM_DOUBLE_T:"‚ïß",MAZE_SINGLE_TOP_DOUBLE_T:"‚ï§",MAZE_SINGLE_TOP_DOUBLECENTER_T:"‚ï•",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"‚ï®",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"‚ïò",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"‚ïí",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"‚ïì",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"‚ïô",MAZE_SINGLE_LEFT_TOP:"Œì",MAZE_SINGLE_RIGHT_BOTTOM:"‚ïú",MAZE_SINGLE_LEFT_CENTER:"‚ïü",MAZE_SINGLE_DOUBLECENTER_CENTER:"‚ï´",MAZE_SINGLE_DOUBLECROSS_CENTER:"‚ï™",MAZE_DOUBLE_LEFT_CENTER:"‚ï£",MAZE_DOUBLE_VERTICAL:"‚ïë",MAZE_DOUBLE_RIGHT_TOP:"‚ïó",MAZE_DOUBLE_RIGHT_BOTTOM:"‚ïù",MAZE_DOUBLE_LEFT_BOTTOM:"‚ïö",MAZE_DOUBLE_LEFT_TOP:"‚ïî",MAZE_DOUBLE_BOTTOM_T:"‚ï©",MAZE_DOUBLE_TOP_T:"‚ï¶",MAZE_DOUBLE_LEFT_T:"‚ï†",MAZE_DOUBLE_HORIZONTAL:"‚ïê",MAZE_DOUBLE_CROSS:"‚ï¨",SOLID_RECTANGLE:"‚ñà",THICK_LEFT_VERTICAL:"‚ñå",THICK_RIGHT_VERTICAL:"‚ñê",SOLID_SMALL_RECTANGLE_BOTTOM:"‚ñÑ",SOLID_SMALL_RECTANGLE_TOP:"‚ñÄ",PHI_UPPER:"Œ¶",INFINITY:"‚àû",INTERSECTION:"‚à©",DEFINITION:"‚â°",PLUS_MINUS:"¬±",GT_EQ:"‚â•",LT_EQ:"‚â§",THEREFORE:"‚å†",SINCE:"‚àµ",DOESNOT_EXIST:"‚àÑ",EXISTS:"‚àÉ",FOR_ALL:"‚àÄ",EXCLUSIVE_OR:"‚äï",BECAUSE:"‚å°",DIVIDE:"√∑",APPROX:"‚âà",DEGREE:"¬∞",BOLD_DOT:"‚àô",DOT_SMALL:"¬∑",CHECK:"‚àö",ITALIC_X:"‚úó",SUPER_N:"‚Åø",SQUARED:"¬≤",CUBED:"¬≥",SOLID_BOX:"‚ñ†",PERMILE:"‚Ä∞",REGISTERED_TM:"¬Æ",COPYRIGHT:"¬©",TRADEMARK:"‚Ñ¢",BETA:"Œ≤",GAMMA:"Œ≥",ZETA:"Œ∂",ETA:"Œ∑",IOTA:"Œπ",KAPPA:"Œ∫",LAMBDA:"Œª",NU:"ŒΩ",XI:"Œæ",OMICRON:"Œø",RHO:"œÅ",UPSILON:"œÖ",CHI_LOWER:"œÜ",CHI_UPPER:"œá",PSI:"œà",ALPHA:"Œ±",ESZETT:"√ü",PI:"œÄ",SIGMA_UPPER:"Œ£",SIGMA_LOWER:"œÉ",MU:"¬µ",TAU:"œÑ",THETA:"Œò",OMEGA:"Œ©",DELTA:"Œ¥",PHI_LOWER:"œÜ",EPSILON:"Œµ"},G={toArray:A,pad:T,truncate:O,multiply:I,format:i,style:u,escape:R,trim:a,trimLeft:f,trimRight:o,isEmpty:s};return E.define(e.isString,G).define(e.isArray,{style:u}).expose(G).expose({characters:d})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=E(require("extended"),require("is-extended"),require("date-extended"),require("array-extended"))):"function"==typeof define?define(["extended","is-extended","date-extended","array-extended"],function(e,_,r,t){return E(e,_,r,t)}):this.stringExtended=E(this.extended,this.isExtended,this.dateExtended,this.arrayExtended)}).call(this);